(function(t,n){"function"==typeof define&&define.amd?define([],n(t)):"object"==typeof exports?module.exports=n(t):t.Router=n(t)})("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";return{routes:[],history:[],getFragment:function(){return window.location.hash.replace(/\/$/,"")},add:function(t,n){return"function"==typeof t&&(n=t,t=""),this.routes.push({handler:n,route:t}),this},apply:function(t){for(var n=t||this.getFragment(),e=0;e<this.routes.length;e++){var o=n.match(this.routes[e].route);if(o)return o.shift(),self.history[n]||this.history.push(n),this.routes[e].handler.apply({},o),this}return this},start:function(){var t=this,n=t.getFragment();return window.onhashchange=function(){n!==t.getFragment()&&(n=t.getFragment(),t.apply(n))},this},navigate:function(t,n){return document.title=n||document.title,t=t.replace(/##/g,"#")||"",window.location.hash=t?"#"+t:"",this},clearHash:function(){window.location.hash="#",history.pushState(null,document.title,window.location.pathname)},back:function(){this.history.pop();var t=this.history.pop();return t=t||"",window.location.hash=t,this},checkFragment:function(t){return this.getFragment().indexOf(t)>=0}}});